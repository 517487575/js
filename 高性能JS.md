# 如何使JS提高运行性能

## 数据的存取

Js中的存储方案

- 字面量：字符串、数字、布尔值、对象、数组、函数、正则表达式、null、undefined
- 本地变量：var定义的数据存储单元
- 数组元素：存储在js数组对象内部，以数字作为索引
- 对象成员：存储在js对象内部，以字符串作为索引

> 从字面量和局部变量中存取数据性能差异微不足道，访问数组和对象成员性能代价高一些。如果在乎运行速度，尽量使用字面量和局部变量，减少数组项和对象成员的使用。


## 作用域链

通过原型链知道函数都是Function对象的实例，Function对象和其他对象一样，拥有可以编程访问的属性，其中一个内部属性[[Scope]]包含了函数被创建的作用域中的对象的集合，这个集合被称为作用域链，作用域链决定了哪些数据可以被函数访问。作用域中的每个对象被称为可变对象，每个可变对象都以键值对的形式存在。

``` html
<script>
  function add(num1, num2) {
    var sum = num1 + num2
    return sum
  }
</script>
```

当add函数被初始化时（注意不是在add被执行的时候），在作用域链的顶部插入一个全局对象，代表着全局范围内定义的变量的集合，这些变量在add函数内可以被访问。

add          ->   作用域链  ->   全局对象 
[[Scope]]         0             this/window/document/add(注意此时add本身也是全局变量)

    